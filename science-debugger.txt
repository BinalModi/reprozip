SQLite3 database:

run
  . id
    comment

processes
  . id
  * run id
  * parent
    timestamp
    exit_timestamp
    cpu_time
    is_thread
    exitcode

files
  . id
  * run id
    path
    timestamp
  * process
    what (read, write, exec)
    working_dir (NULL)
    permissions
    uid
    gid
    type (dir, link, file)
    data (NULL | link target | content hash)

argv
  * id file access (what=exec)
    nb
    value

envp
  * id file access
    name
    value

connections
    id
    process
    timestamp
    inbound
    family
    protocol
    address


File storage:

files/
    NN/
        nnnnnnnn...
            Git-like storage, with files stored under their hash
            no metadata on file (perm/id stored in database)


Operations:
    while tracing, create a run, then add file access (basically what ReproZip records now) as they happen. Also at first access, hash file and insert in storage (further accesses will assume file was not modified externally while run is still going). Files written get stored at the end of the run
    get a file by run + path
    recreate whole environment of a run
    extract some runs into an RPZ file
